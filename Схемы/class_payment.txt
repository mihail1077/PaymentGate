@startuml

package enumerations <<Rect >> {

class "Состояние платежа"{
Создан
Выполнен
Отклонён биллингом
}

class "Состояние корзины"{
Создана
Оплачена
Ошибка при создании
}

}

class "Платёж" {
Идентификатор платежа: BigDecimal
Состояние: Состояние платежа
Идентификатор абонента: String
Сумма платежа: Currency
Дата создания: DateTime
Дата платежа: DateTime
Дата учёта в биллинге: DateTime
.. Данные ПС ..
Идентификатор платежа партнёра : Int64
Дата платежа в АС партнёра: DateTimeTZ
}

class "Корзина"{
Идентификатор корзины: BigDecimal
Состояние: Состояние корзины
Идентификатор абонента : String
Дата создания: DateTime
Дата оплаты: DateTime
.. Данные ПС ..
Идентификатор платежа партнёра : Int64
Дата платежа в АС партнёра: DateTimeTZ
}

class "Позиция корзины"{
Сумма позициии: Currency
}

"Корзина" *-- "Позиция корзины"
Платёж .. "Позиция корзины"

"Платёжная система" -- "Платёж": получен от
"Платёжная система" -- "Корзина": получена от
"Платёжная система" -- "Пакет сверки": получен от

class "Платёжная система"{
Идентификатор: Integer
Наименование: string
Признак блокировки: Boolean
}

class "Пакет сверки"{
Дата начала периода: DateTimeTZ
Дата окончания периода: DateTimeTZ
}

class Услуга{
Код услуги: Integer
Наименование услуги: String
}

Платёж o-- Услуга
"Позиция корзины" o-- Услуга

@enduml