@startuml

participant "Абонент"
participant "ЛКА или ПП"
participant "Сайт Платёжной системы"
participant "ИС Платёжной системы"
participant "BSS-решение"

"Абонент" -> "ЛКА или ПП": Намерение совершить платёж\nID Абонента
activate "Абонент"
activate "ЛКА или ПП"
"ЛКА или ПП" -> "BSS-решение": Запрос доступных услуг
activate "BSS-решение"
"BSS-решение" -> "ЛКА или ПП": Список доступных услуг
deactivate "BSS-решение"

"ЛКА или ПП" -> "Абонент": Отображение списка доступных услуг

"Абонент" -> "ЛКА или ПП": Одна или несколько услуг\nсумма для каждой услуги

"ЛКА или ПП" -> "BSS-решение": Регистрация корзины
activate "BSS-решение"
"BSS-решение" -> "ЛКА или ПП": Корзина зарегистрирована
deactivate "BSS-решение"

"ЛКА или ПП" -> "ИС Платёжной системы": Провести платёж\nID корзины, сумма платежа
activate "ИС Платёжной системы"
"ИС Платёжной системы" -> "ЛКА или ПП": Платёж принят к исполнению
"ЛКА или ПП" -> "Абонент": Перенаправление на сайт\nПлатёжной системы
deactivate "ЛКА или ПП"

"Абонент" -> "Сайт Платёжной системы": Данные по карте
"Сайт Платёжной системы" -> "Абонент": Платёж совершён
deactivate "Абонент"

"Сайт Платёжной системы" -> "ИС Платёжной системы": Платёж по корзине выполнен

"ИС Платёжной системы" -> "BSS-решение": Платёж
activate "BSS-решение"
ref over "BSS-решение"
Платёж по корзине
end ref
"BSS-решение" -> "ИС Платёжной системы": Платёж принят
deactivate "BSS-решение"
deactivate "ИС Платёжной системы"

@enduml