@startuml

state "Создан" as Created
state "Выполнен" as Accounted
state "Ошибка при зачислении" as Error

[*] --> Created: Обработка сообщений:\nПлатёж по услуге и Платёж по корзине
Created --> Accounted: От адаптера биллинга получено:\nПлатёж зарегистрирован
Accounted --> [*]
Created --> Error: Превышено максимальное количество \nпопыток отправки платежа
Error --> [*]

@enduml