@startuml

participant "Платёжная система"
participant "Платёжный шлюз"

"Платёжная система" -> "Платёжный шлюз": Реестр сверки
activate "Платёжная система"
activate "Платёжный шлюз"
"Платёжный шлюз" -> "Платёжная система": Реестр получен
deactivate "Платёжная система"

"Платёжный шлюз" -> "Платёжный шлюз": Проведение сверки

"Платёжная система" -> "Платёжный шлюз": Запрос результатов сверки
activate "Платёжная система"
"Платёжный шлюз" -> "Платёжная система": Результаты сверки: пакет с расхождениями
deactivate "Платёжная система"
deactivate "Платёжный шлюз"

@enduml