@startuml

state "Создана" as Created
state "Оплачена" as Paid
state "Отмена оплаты" as PayCanceled
state "Ошибка при создании" as Error
state "Отменена" as Canceled

[*] --> Created: Обработка сообщения:\nРегистрация корзины
Created --> Paid: Обработка сообщения:\nПлатёж за корзину
[*] --> Paid: Обработка сообщения:\nПлатёж за услугу
Created --> Canceled: Обработка сообщения:\nОтмена корзины
Paid --> [*]
Canceled --> [*]
Paid --> PayCanceled: Обработка сообщения:\nОтмена платежа за корзину
PayCanceled --> [*]

[*] --> Error: Ошибка при создании корзины
Error --> [*]

@enduml