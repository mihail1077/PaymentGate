@startuml

participant "јдаптер платЄжной системы"
participant "ядро платЄжного шлюза"
participant "јдаптер биллинга"


"јдаптер платЄжной системы" -> "ядро платЄжного шлюза": ѕлатЄж по корзине
activate "јдаптер платЄжной системы"
activate "ядро платЄжного шлюза"
"ядро платЄжного шлюза" -> "ядро платЄжного шлюза": ѕоиск сохранЄнной корзины
"ядро платЄжного шлюза" -> "ядро платЄжного шлюза": ‘иксаци€ факта оплаты
"ядро платЄжного шлюза" -> "јдаптер платЄжной системы": ѕлатЄж прин€т
deactivate "јдаптер платЄжной системы"

loop ƒл€ каждой позиции корзины
"ядро платЄжного шлюза" -> "јдаптер биллинга": ѕлатЄж
activate "јдаптер биллинга"
"јдаптер биллинга" -> "ядро платЄжного шлюза": ѕлатЄж зарегистрирован
deactivate "јдаптер биллинга"
end

deactivate "ядро платЄжного шлюза"

@enduml